(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{130:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),a=n(43),o=n.n(a),r=(n(87),n(61)),s=n.n(r),u=n(5),l=n(80),j=n(44),d=n(4),b=n(140),f=n(138),O=n(136),h=n(141),m=n(139),x=n(142),v=n(137),p=n(12),S=n(134),g=n(3),I=function(e){var t=e.value,n=e.onChange;e.onSearch;return Object(g.jsx)(m.a,{sectioned:!0,children:Object(g.jsx)(x.a,{children:Object(g.jsx)(v.a,{value:t,label:"Movie title",prefix:Object(g.jsx)(p.a,{source:S.a}),onChange:function(e){n(e)}})})})},y=n(143),C=n(16),k=n(30),N=function(e){var t=e.value,n=e.results,c=e.nomination;return Object(g.jsx)(m.a,{title:"Results ".concat(""!==t?"for ".concat(t):""),sectioned:!0,children:Object(g.jsx)(y.a,{type:"bullet",children:n.length>0?n.map((function(e){return Object(g.jsxs)(y.a.Item,{children:[e.title," (",e.year,") ",Object(g.jsx)(C.a,{disabled:e.nominated,onClick:function(){return c(e.id)},children:"Nominate"})]},e.id)})):Object(g.jsx)(k.a,{children:"No results found"})})})},w=function(e){var t=e.nominations,n=e.onRemoval;return Object(g.jsx)(m.a,{title:"Nominations",sectioned:!0,children:Object(g.jsx)(y.a,{type:"bullet",children:t.map((function(e){return Object(g.jsxs)(y.a.Item,{children:[e.title," (",e.year,") ",Object(g.jsx)(C.a,{onClick:function(){return n(e.id)},children:"Remove"})]},e.id)}))})})},D=n(135),M=function(e){var t=e.onCreate,n=e.library,i=e.onDelete,a=e.onNominate,o=Object(c.useState)(""),r=Object(d.a)(o,2),s=r[0],u=r[1],l=Object(c.useState)("2020"),j=Object(d.a)(l,2),b=j[0],f=j[1];return Object(g.jsxs)(m.a,{title:"Add your own movies",sectioned:!0,children:[Object(g.jsx)(D.a,{children:Object(g.jsxs)(x.a,{children:[Object(g.jsxs)(x.a.Group,{children:[Object(g.jsx)(v.a,{label:"Movie title",value:s,onChange:function(e){u(e)}}),Object(g.jsx)(v.a,{label:"Movie year",value:b,type:"number",onChange:function(e){f(e)}})]}),Object(g.jsx)(C.a,{primary:!0,onClick:function(){return t(s,b)},children:"Submit"})]})}),Object(g.jsx)(m.a.Section,{children:n.map((function(e){return Object(g.jsxs)(y.a.Item,{children:[e.title," (",e.year,") ",Object(g.jsx)(C.a,{disabled:e.nominated,onClick:function(){return a(e.id)},children:"Nominate"})," ",Object(g.jsx)(C.a,{destructive:!0,disabled:e.nominated,onClick:function(){return i(e.id)},children:"Delete"})]},e.id)}))})]})},J=(n(110),n(82)),E=n.n(J);var T=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)([]),o=Object(d.a)(a,2),r=o[0],m=o[1],x=Object(c.useState)(JSON.parse(localStorage.getItem("nominations"))||[]),v=Object(d.a)(x,2),p=v[0],S=v[1],y=Object(c.useState)(JSON.parse(localStorage.getItem("customMovies"))||[]),C=Object(d.a)(y,2),k=C[0],D=C[1],J=Object(c.useState)(parseInt(localStorage.getItem("customMoviesID"))||k.length),T=Object(d.a)(J,2),F=T[0],R=T[1],B=function(e){var t,n=[],c=Object(j.a)(e);try{var i=function(){var e=t.value;-1===n.findIndex((function(t){return t.id===e.id}))&&n.push(e)};for(c.s();!(t=c.n()).done;)i()}catch(a){c.e(a)}finally{c.f()}return console.log(n),n},H=function(){var e=Object(l.a)(s.a.mark((function e(){var t,c,i,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===n){e.next=9;break}return c="https://www.omdbapi.com/?s=".concat(n,"&apikey=").concat("a53f9bdb"),e.next=4,E.a.get(c);case 4:i=e.sent,console.log(i),(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.Search)&&(a=i.data.Search.map((function(e){return{id:e.imdbID,title:e.Title,year:e.Year,nominated:p.findIndex((function(t){return t.id===e.imdbID}))>-1}})),o=B(a),m(Object(u.a)(o))),e.next=10;break;case 9:m([]);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){H()}),[n]);var L=function(e){if(p.length<5)if("cm"===e.slice(0,2)){var t=k.find((function(t){return t.id===e})),n=k.findIndex((function(t){return t.id===e})),c=p.concat([t]),i=k;i[n].nominated=!0,S(Object(u.a)(c)),D(Object(u.a)(i))}else{var a=r.find((function(t){return t.id===e})),o=r.findIndex((function(t){return t.id===e})),s=p.concat([a]),l=r;l[o].nominated=!0,S(Object(u.a)(s)),m(Object(u.a)(l))}};Object(c.useEffect)((function(){localStorage.setItem("nominations",JSON.stringify(p))}),[p]);var P=Object(g.jsx)(b.a,{title:"Thank you for choosing five nominees!",status:"success"});return Object(c.useEffect)((function(){localStorage.setItem("customMovies",JSON.stringify(k))}),[k]),Object(c.useEffect)((function(){localStorage.setItem("customMoviesID",F.toString())}),[F]),Object(g.jsx)(f.a,{i18n:{},children:Object(g.jsx)(O.a,{title:"The Shoppies",children:Object(g.jsxs)(h.a,{children:[5===p.length?Object(g.jsx)(h.a.Section,{children:P}):null,Object(g.jsx)(h.a.Section,{children:Object(g.jsx)(I,{value:n,onChange:i,onSearch:H})}),Object(g.jsx)(h.a.Section,{oneHalf:!0,children:Object(g.jsx)(N,{value:n,results:r,nomination:L})}),Object(g.jsx)(h.a.Section,{oneHalf:!0,children:Object(g.jsx)(w,{nominations:p,onRemoval:function(e){var t=p.findIndex((function(t){return t.id===e})),n=p;n.splice(t,1);var c=r,i=k;if("cm"===e.slice(0,2)){var a=k.findIndex((function(t){return t.id===e}));a>-1&&(i[a].nominated=!1),D(Object(u.a)(i))}else{var o=r.findIndex((function(t){return t.id===e}));o>-1&&(c[o].nominated=!1),m(Object(u.a)(c))}S(Object(u.a)(n))}})}),Object(g.jsx)(h.a.Section,{children:Object(g.jsx)(M,{onCreate:function(e,t){var n={title:e,year:t,id:"cm"+F,nominated:!1};R(F+1);var c=k.concat([n]);D(c)},library:k,onDelete:function(e){var t=k.findIndex((function(t){return t.id===e})),n=k;n.splice(t,1),D(Object(u.a)(n))},onNominate:L})})]})})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,144)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),a(e),o(e)}))};o.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(T,{})}),document.getElementById("root")),F()},87:function(e,t,n){}},[[130,1,2]]]);
//# sourceMappingURL=main.fde6f9e3.chunk.js.map