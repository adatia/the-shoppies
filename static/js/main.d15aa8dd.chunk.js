(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{130:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),a=n(43),o=n.n(a),r=(n(87),n(61)),s=n.n(r),u=n(5),l=n(80),d=n(44),j=n(4),b=n(139),f=n(137),O=n(135),m=n(140),h=n(138),x=n(141),v=n(136),p=n(11),g=n(134),S=n(3),I=function(e){var t=e.value,n=e.onChange;e.onSearch;return Object(S.jsx)(h.a,{sectioned:!0,children:Object(S.jsx)(x.a,{children:Object(S.jsx)(v.a,{value:t,label:"Movie title",prefix:Object(S.jsx)(p.a,{source:g.a}),onChange:function(e){n(e)}})})})},y=n(142),C=n(16),k=n(30),N=function(e){var t=e.value,n=e.results,c=e.nomination,i=e.nomcount;return Object(S.jsx)(h.a,{title:"Results ".concat(""!==t?"for ".concat(t):""),sectioned:!0,children:Object(S.jsx)(y.a,{type:"bullet",children:n.length>0?n.map((function(e){return Object(S.jsxs)(y.a.Item,{children:[e.title," (",e.year,") ",Object(S.jsx)(C.a,{disabled:e.nominated||5===i,onClick:function(){return c(e.id)},children:e.nominated?"Nominated":"Nominate"})]},e.id)})):Object(S.jsx)(k.a,{children:"No results found"})})})},w=function(e){var t=e.nominations,n=e.onRemoval;return Object(S.jsx)(h.a,{title:"Nominations",sectioned:!0,children:Object(S.jsx)(y.a,{type:"bullet",children:t.map((function(e){return Object(S.jsxs)(y.a.Item,{children:[e.title," (",e.year,") ",Object(S.jsx)(C.a,{onClick:function(){return n(e.id)},children:"Remove"})]},e.id)}))})})},D=function(e){var t=e.onCreate,n=e.library,i=e.onDelete,a=e.onNominate,o=e.nomcount,r=Object(c.useState)(""),s=Object(j.a)(r,2),u=s[0],l=s[1],d=Object(c.useState)("2020"),b=Object(j.a)(d,2),f=b[0],O=b[1];return Object(S.jsxs)(h.a,{title:"Add your own movies",sectioned:!0,children:[Object(S.jsxs)(x.a,{children:[Object(S.jsxs)(x.a.Group,{children:[Object(S.jsx)(v.a,{label:"Movie title",value:u,onChange:function(e){l(e)}}),Object(S.jsx)(v.a,{label:"Movie year",value:f,type:"number",onChange:function(e){O(e)}})]}),Object(S.jsx)(C.a,{primary:!0,disabled:""===u,onClick:function(){return t(u,f)},children:"Submit"})]}),Object(S.jsx)(h.a.Section,{children:n.map((function(e){return Object(S.jsxs)(y.a.Item,{children:[e.title," (",e.year,") ",Object(S.jsxs)(C.a,{disabled:e.nominated||5===o,onClick:function(){return a(e.id)},children:[" ",e.nominated?"Nominated":"Nominate"]})," ",Object(S.jsx)(C.a,{destructive:!0,disabled:e.nominated,onClick:function(){return i(e.id)},children:"Delete"})]},e.id)}))})]})},M=(n(110),n(82)),J=n.n(M);var E=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)([]),o=Object(j.a)(a,2),r=o[0],h=o[1],x=Object(c.useState)(JSON.parse(localStorage.getItem("nominations"))||[]),v=Object(j.a)(x,2),p=v[0],g=v[1],y=Object(c.useState)(JSON.parse(localStorage.getItem("customMovies"))||[]),C=Object(j.a)(y,2),k=C[0],M=C[1],E=Object(c.useState)(parseInt(localStorage.getItem("customMoviesID"))||k.length),T=Object(j.a)(E,2),F=T[0],R=T[1],B=function(e){var t,n=[],c=Object(d.a)(e);try{var i=function(){var e=t.value;-1===n.findIndex((function(t){return t.id===e.id}))&&n.push(e)};for(c.s();!(t=c.n()).done;)i()}catch(a){c.e(a)}finally{c.f()}return console.log(n),n},H=function(){var e=Object(l.a)(s.a.mark((function e(){var t,c,i,a,o,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===n){e.next=8;break}return c="https://www.omdbapi.com/?s=".concat(n,"&type=movie&apikey=").concat("a53f9bdb"),e.next=4,J.a.get(c);case 4:(null===(i=e.sent)||void 0===i||null===(t=i.data)||void 0===t?void 0:t.Search)&&(a=5===p.length,o=i.data.Search.map((function(e){return{id:e.imdbID,title:e.Title,year:e.Year,nominated:p.findIndex((function(t){return t.id===e.imdbID}))>-1,full:a}})),r=B(o),h(Object(u.a)(r))),e.next=9;break;case 8:h([]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){H()}),[n]);var L=function(e){if(p.length<5)if("cm"===e.slice(0,2)){var t=k.find((function(t){return t.id===e})),n=k.findIndex((function(t){return t.id===e})),c=p.concat([t]),i=k;i[n].nominated=!0,g(Object(u.a)(c)),M(Object(u.a)(i))}else{var a=r.find((function(t){return t.id===e})),o=r.findIndex((function(t){return t.id===e})),s=p.concat([a]),l=r;l[o].nominated=!0,g(Object(u.a)(s)),h(Object(u.a)(l))}};Object(c.useEffect)((function(){localStorage.setItem("nominations",JSON.stringify(p))}),[p]);var P=Object(S.jsx)(b.a,{title:"Thank you for choosing five nominees!",status:"success"});return Object(c.useEffect)((function(){localStorage.setItem("customMovies",JSON.stringify(k))}),[k]),Object(c.useEffect)((function(){localStorage.setItem("customMoviesID",F.toString())}),[F]),Object(S.jsx)(f.a,{i18n:{},children:Object(S.jsx)(O.a,{title:"The Shoppies",children:Object(S.jsxs)(m.a,{children:[5===p.length?Object(S.jsx)(m.a.Section,{children:P}):null,Object(S.jsx)(m.a.Section,{children:Object(S.jsx)(I,{value:n,onChange:i,onSearch:H})}),Object(S.jsx)(m.a.Section,{oneHalf:!0,children:Object(S.jsx)(N,{value:n,results:r,nomination:L,nomcount:p.length})}),Object(S.jsx)(m.a.Section,{oneHalf:!0,children:Object(S.jsx)(w,{nominations:p,onRemoval:function(e){var t=p.findIndex((function(t){return t.id===e})),n=p;n.splice(t,1);var c=r,i=k;if("cm"===e.slice(0,2)){var a=k.findIndex((function(t){return t.id===e}));a>-1&&(i[a].nominated=!1),M(Object(u.a)(i))}else{var o=r.findIndex((function(t){return t.id===e}));o>-1&&(c[o].nominated=!1),h(Object(u.a)(c))}g(Object(u.a)(n))}})}),Object(S.jsx)(m.a.Section,{children:Object(S.jsx)(D,{onCreate:function(e,t){var n={title:e,year:t,id:"cm"+F,nominated:!1,full:5===p.length};R(F+1);var c=k.concat([n]);M(Object(u.a)(c))},library:k,onDelete:function(e){var t=k.findIndex((function(t){return t.id===e})),n=k;n.splice(t,1),M(Object(u.a)(n))},onNominate:L,nomcount:p.length})})]})})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,143)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),a(e),o(e)}))};o.a.render(Object(S.jsx)(i.a.StrictMode,{children:Object(S.jsx)(E,{})}),document.getElementById("root")),T()},87:function(e,t,n){}},[[130,1,2]]]);
//# sourceMappingURL=main.d15aa8dd.chunk.js.map